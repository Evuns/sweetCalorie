<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Рецепта</title>
    <th:block th:include="~{fragments/head}"></th:block>
</head>

<body>
<div class="empty"></div>
<header class="nav-container" id="navbar">
    <th:block th:include="~{fragments/nav}"></th:block>
</header>

<div style="opacity: 0.15;">
    <th:block th:include="~{fragments/background}"></th:block>
</div>

<div class="login-register-conteiner">
    <main class="login-register new-recepe">
        <h1 class="">Редактиане</h1>
        <hr class=""/>
        <form class="" th:object="${recipeServiceModel}" th:action="@{/recipes/edit/{id}(id=*{id})}" method="POST">
            <div class="">
                <h3 class="new-recepe__heading">Рецепта</h3>
                <div class="">
                    <label for="title" class="">Заглавие</label>
                    <input th:field="*{title}" th:errorclass="bg-danger" type="text" class="" id="title"
                           name="title" placeholder="Заглавие на рецептата"/>
                    <small th:each="e : ${#fields.errors('title')}" th:text="${e}" class="text-danger">Грешно
                        заглавие</small>
                </div>
                <div class="">
                    <label for="image" class="">Постави линк към изображението</label>
                    <input th:field="*{image}" th:errorclass="bg-danger" type="text" class="" id="image"
                           name="image" placeholder="Снимка"/>
                    <small th:each="e : ${#fields.errors('image')}" th:text="${e}" class="text-danger"></small>
                </div>
                <div class="">
                    <div class="">
                        <label for="calories" class="">Калории</label>
                        <input th:field="*{calories}" th:errorclass="bg-danger" type="text" class="" id="calories"
                               name="calories" placeholder="cal"/>
                        <small th:each="e : ${#fields.errors('calories')}" th:text="${e}" class="text-danger"></small>
                    </div>
                    <div class="">
                        <label for="proteins" class="">Протеини</label>
                        <input th:field="*{proteins}" th:errorclass="bg-danger" type="text" id="proteins"
                               name="proteins" placeholder="гр."/>
                        <small th:each="e : ${#fields.errors('proteins')}" th:text="${e}" class="text-danger"></small>
                    </div>
                    <div class="">
                        <label for="carbohydrates" class="">Въглехидрати</label>
                        <input th:field="*{carbohydrates}" th:errorclass="bg-danger" type="text" class=""
                               id="carbohydrates"
                               name="carbohydrates" placeholder="гр."/>
                        <small th:each="e : ${#fields.errors('carbohydrates')}" th:text="${e}"
                               class="text-danger"></small>
                    </div>
                    <div class="">
                        <label for="fats" class="">Мазнини</label>
                        <input th:field="*{fats}" th:errorclass="bg-danger" type="text" class="" id="fats"
                               name="fats" placeholder="гр."/>
                        <small th:each="e : ${#fields.errors('fats')}" th:text="${e}" class="text-danger"></small>
                    </div>
                    <div class="">
                        <label for="servings" class="">Порции</label>
                        <input th:field="*{servings}" th:errorclass="bg-danger" type="text" id="servings"
                               name="servings" placeholder="бр."/>
                        <small th:each="e : ${#fields.errors('servings')}" th:text="${e}" class="text-danger"></small>
                    </div>
                    <div class="">
                        <label for="time" class="">Приготвяне</label>
                        <input th:field="*{time}" th:errorclass="bg-danger" type="text" class="" id="time"
                               name="time" placeholder="мин"/>
                        <small th:each="e : ${#fields.errors('time')}" th:text="${e}" class="text-danger"></small>
                    </div>
                    <div class="">
                        <label for="difficulty" class="">Трудност</label>
                        <input th:field="*{difficulty}" th:errorclass="bg-danger" type="text" class="" id="difficulty"
                               name="difficulty" placeholder="..."/>
                        <small th:each="e : ${#fields.errors('difficulty')}" th:text="${e}" class="text-danger"></small>
                    </div>

                    <div>
                        <label class="">Необходими съставки</label>
                        <table>
                            <thead>
                            <tr>
                                <th> Съставка</th>
                                <th> Количество</th>
                                <th> Мерна единица</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr th:each="ingredient, itemStat : *{ingredients}">
                                <td>
                                    <label>
                                        <input th:field="*{ingredients[__${itemStat.index}__].food}"/>
                                    </label>
                                </td>
                                <td>
                                    <label>
                                        <input th:field="*{ingredients[__${itemStat.index}__].quantity}"/>
                                    </label>
                                </td>
                                <td>
                                    <label>
                                        <input th:field="*{ingredients[__${itemStat.index}__].units}"/>
                                    </label>
                                </td>
                            </tr>
                            </tbody>
                        </table>
                    </div>

                    <div class="">
                        <label for="description" class="">Напътствия за приготвяне</label>
                        <textarea th:field="*{description}" th:errorclass="bg-danger" type="text" id="description"
                                  class="form-textarea" cols="40" rows="6" data-component="textarea"
                                  placeholder="..."></textarea>
                        <small th:each="e:${#fields.errors('description')}" th:text="${e}"
                               class="text-danger"></small>
                    </div>
                </div>

            </div>

            <button type="submit" class="contact100-form-btn">
                Редактирай
            </button>
            <button onclick="window.history.back()" type="submit">Назад</button>
        </form>
    </main>
</div>

<footer class="footer">
    <th:block th:include="~{fragments/footer}"></th:block>
</footer>

<th:block th:include="~{fragments/function}"></th:block>

</body>

</html>

